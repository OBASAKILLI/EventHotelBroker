<div class="modern-nav-container">
    <nav class="modern-nav">
        <!-- Home -->
        <div class="modern-nav-item">
            <NavLink class="modern-nav-link" href="" Match="NavLinkMatch.All">
                <i class="bi bi-house-door-fill"></i>
                <span class="nav-text">Home</span>
            </NavLink>
        </div>

        <!-- Client Section -->
        <div class="modern-nav-section">
            <button class="modern-nav-section-toggle" @onclick="ToggleClientSection">
                <div class="section-header">
                    <div class="section-icon">
                        <i class="bi bi-person-circle"></i>
                    </div>
                    <span class="section-title">Client</span>
                </div>
                <i class="bi @(clientExpanded ? "bi-chevron-down" : "bi-chevron-right") chevron"></i>
            </button>
            @if (clientExpanded)
            {
                <div class="modern-nav-submenu">
                    <NavLink class="modern-nav-link" href="search">
                        <i class="bi bi-search"></i>
                        <span class="nav-text">Search Hotels</span>
                    </NavLink>
                    <NavLink class="modern-nav-link" href="hotel-details">
                        <i class="bi bi-building"></i>
                        <span class="nav-text">Hotel Details</span>
                    </NavLink>
                    <NavLink class="modern-nav-link" href="my-bookings">
                        <i class="bi bi-calendar-check"></i>
                        <span class="nav-text">My Bookings</span>
                    </NavLink>
                    <NavLink class="modern-nav-link" href="messages">
                        <i class="bi bi-envelope"></i>
                        <span class="nav-text">Messages</span>
                    </NavLink>
                </div>
            }
        </div>

        <!-- Owner Section -->
        <div class="modern-nav-section">
            <button class="modern-nav-section-toggle" @onclick="ToggleOwnerSection">
                <div class="section-header">
                    <div class="section-icon">
                        <i class="bi bi-briefcase"></i>
                    </div>
                    <span class="section-title">Owner</span>
                </div>
                <i class="bi @(ownerExpanded ? "bi-chevron-down" : "bi-chevron-right") chevron"></i>
            </button>
            @if (ownerExpanded)
            {
                <div class="modern-nav-submenu">
                    <NavLink class="modern-nav-link" href="owner/dashboard">
                        <i class="bi bi-speedometer2"></i>
                        <span class="nav-text">Dashboard</span>
                    </NavLink>
                    <NavLink class="modern-nav-link" href="owner/hotels">
                        <i class="bi bi-building"></i>
                        <span class="nav-text">My Hotels</span>
                    </NavLink>
                    <NavLink class="modern-nav-link" href="owner/create-hotel">
                        <i class="bi bi-plus-circle"></i>
                        <span class="nav-text">Create Hotel</span>
                    </NavLink>
                    <NavLink class="modern-nav-link" href="owner/bookings">
                        <i class="bi bi-calendar2-check"></i>
                        <span class="nav-text">Booking Requests</span>
                    </NavLink>
                </div>
            }
        </div>

        <!-- Admin Section -->
        <div class="modern-nav-section">
            <button class="modern-nav-section-toggle" @onclick="ToggleAdminSection">
                <div class="section-header">
                    <div class="section-icon">
                        <i class="bi bi-shield-lock"></i>
                    </div>
                    <span class="section-title">Admin</span>
                </div>
                <i class="bi @(adminExpanded ? "bi-chevron-down" : "bi-chevron-right") chevron"></i>
            </button>
            @if (adminExpanded)
            {
                <div class="modern-nav-submenu">
                    <NavLink class="modern-nav-link" href="admin/dashboard">
                        <i class="bi bi-speedometer2"></i>
                        <span class="nav-text">Dashboard</span>
                    </NavLink>
                    <NavLink class="modern-nav-link" href="admin/users">
                        <i class="bi bi-people"></i>
                        <span class="nav-text">Users</span>
                    </NavLink>
                    <NavLink class="modern-nav-link" href="admin/hotels">
                        <i class="bi bi-building"></i>
                        <span class="nav-text">Hotels</span>
                    </NavLink>
                    <NavLink class="modern-nav-link" href="admin/bookings">
                        <i class="bi bi-calendar-event"></i>
                        <span class="nav-text">All Bookings</span>
                    </NavLink>
                    <NavLink class="modern-nav-link" href="admin/audit-logs">
                        <i class="bi bi-file-text"></i>
                        <span class="nav-text">Audit Logs</span>
                    </NavLink>
                </div>
            }
        </div>
    </nav>
</div>

@code {
    private bool clientExpanded = true;
    private bool ownerExpanded = true;
    private bool adminExpanded = true;

    private void ToggleClientSection()
    {
        clientExpanded = !clientExpanded;
    }

    private void ToggleOwnerSection()
    {
        ownerExpanded = !ownerExpanded;
    }

    private void ToggleAdminSection()
    {
        adminExpanded = !adminExpanded;
    }
}

